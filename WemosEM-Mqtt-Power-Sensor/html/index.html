<!--Minimify: http://minifycode.com/html-minifier/-->
<!DOCTYPE html>
<html>

<head>

  <title>WemosEM</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="shortcut icon"
    href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACRAAAA/wAAAP8AAAD/AAAA/wAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACkAAAD/AAAAkQAAAAAAAAAAAAAAAAAAAAAAAADKAAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACYAAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAAAAAAAAAAAAAAAAACSAAAAkgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADLAAAAwAAAAAAAAAAAAAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAYAAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAAAAAAAAAAAAP8AAAAAAAAAAAAAAAAAAAAAAAAA/wAAAAAAAAAAAAAA/wAAAAAAAAAAAAAAAAAAAAAAAAD/AAAAAAAAAAAAAAD/AAAAAAAAAAAAAAAAAAAAAAAAAP8AAAAAAAAAAAAAAP8AAABpAAAAAAAAAAAAAAAAAAAA/wAAAAAAAAAAAAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAP4AAAAAAAAA/wAAAAAAAAAAAAAAAAAAAP8AAAAAAAAAAAAAAL0AAADNAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABzAAAA/wAAAP8AAAAAAAAAAAAAAJEAAACRAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAAKQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAADGAAAAAAAAAAAAAAAAAAAAAAAAAJEAAAD/AAAAKQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAxAAAAP8AAAD/AAAA/wAAAP8AAACSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8AAPgfAADzzwAA7/cAAN/7AACf+QAAvn0AAL29AAC9vQAAvl0AAJ+ZAAD/+wAA7/cAAPPPAAD4HwAA//8AAA==" />

  <link rel="stylesheet" href="/bootstrap.min.css">

  <script src="/jquery-3.3.1.min.js"></script>
  <script src="/wemosem.js"></script>
  <style>
    div.button-menu {
      width: 100%;
    }

    .button-menu button {
      width: inherit;
    }
  </style>

</head>

<body>
  <div class="container">
    <div class="py-3 text-center">
      <div class="alert alert-dark" role="alert">
        <h4 class="alert-heading wemos-id">WemosEM-000000</h4>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-4">
        <table class="table table-sm text-left">
          <tbody>
            <tr>
              <th scope="row">Current</th>
              <td class="current-value">0.00</td>
            </tr>
            <tr>
              <th scope="row">Voltage</th>
              <td class="voltage-value">0.0</td>
            </tr>
            <tr>
              <th scope="row">Watios</th>
              <td class="watios-value">0.00</td>
            </tr>
            <tr>
              <th scope="row">KWh</th>
              <td class="kwh-value">0.00</td>
            </tr>
            <tr>
              <th scope="row">Ical</th>
              <td class="ical-value">0.00</td>
            </tr>
            <tr>
              <th scope="row">MQTT Reconnected count</th>
              <td class="mqttreconnected-value">0</td>
            </tr>
            <tr>
              <th scope="row">Wifi dB</th>
              <td class="wifidb-value">0</td>
            </tr>
            <tr>
              <th scope="row">Uptime</th>
              <td class="uptime-value">0 days 00:00:00</td>
            </tr>
            <tr>
              <th scope="row">Time</th>
              <td class="time-value">00:00:00 00/00/0000</td>
            </tr>
            <tr>
              <th scope="row">Freemem</th>
              <td class="freemem-value">0</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="col-lg-8">
        <div class="col-lg-12 text-center">
          <div class="alert alert-success message-info" role="alert" style="display:none">
          </div>
          <div class="alert alert-danger message-error" role="alert" style="display:none">
          </div>
        </div>
        <div class="col-lg-12 text-center">
          <div class="btn-group button-menu" role="group">
            <button type="button" class="btn btn-wifi btn-primary">Wifi</button>
            <button type="button" class="btn btn-mqtt btn-secondary">MQTT</button>
            <button type="button" class="btn btn-calibrate btn-success">Calibration</button>
            <button type="button" class="btn btn-time btn-warning">Time</button>
            <button type="button" class="btn btn-system btn-info">System</button>
          </div>
        </div>
        <!-- ------------------- -->
        <!-- WIFI                -->
        <!-- ------------------- -->
        <div class="card cardWifi" style="margin-top:10px; display: none;">
          <div class="card-header bg-primary text-white">
            <h5 style="margin: 0;">Wifi Parameters</h5>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md-6 mb-2">
                <label for="wifi-name">Wifi Name</label>
                <input type="text" class="form-control form-control-sm" id="wifi-name" placeholder="" value="">
              </div>
              <div class="col-md-6 mb-2">
                <label for="wifi-pass">Wifi Password</label>
                <input type="password" class="form-control form-control-sm" id="wifi-pass" placeholder="" value="">
              </div>
            </div>
            <div class="row">
              <div class="col-md-12 mb-2">
                <label for="wifi-ipmode">IP Address Mode</label>
                <select class="form-control form-control-sm" id="wifi-ipmode">
                  <option value="0">DHCP</option>
                  <option value="1">Static IP</option>
                </select>
              </div>
            </div>
            <div class="row staticIP">
              <div class="col-md-4 mb-2">
                <label for="wifi-ip">IP Address</label>
                <input type="text" class="form-control form-control-sm" id="wifi-ip" placeholder="" value="">
              </div>

              <div class="col-md-4 mb-2">
                <label for="wifi-mask">Subnet Mask</label>
                <input type="text" class="form-control form-control-sm" id="wifi-mask" placeholder="" value="">
              </div>

              <div class="col-md-4 mb-2">
                <label for="wifi-gateway">Router (Gateway)</label>
                <input type="text" class="form-control form-control-sm" id="wifi-gateway" placeholder="" value="">
              </div>
            </div>
            <div class="mb-4"></div>
            <button type="button" class="btn btn-success btn-lg btn-block btn-save-wifi">Save</button>
          </div>
        </div>

        <!-- ------------------- -->
        <!-- MQTT                -->
        <!-- ------------------- -->
        <div class="card cardMQTT" style="margin-top:10px; display: none;">
          <div class="card-header bg-secondary text-white">
            <h5 style="margin: 0;">MQTT Parameters</h5>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md-12 mb-2">
                <div class="form-group form-check">
                  <input type="checkbox" class="form-check-input" id="enableMQTT">
                  <label class="form-check-label" for="enableMQTT">Enable MQTT</label>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6 mb-2">
                <label for="mqtt-ip">MQTT IP</label>
                <input type="text" class="form-control form-control-sm" id="mqtt-ip" placeholder="" value="">
              </div>
              <div class="col-md-6 mb-2">
                <label for="mqtt-port">MQTT Port</label>
                <input type="text" class="form-control form-control-sm" id="mqtt-port" placeholder="" value="">
              </div>
            </div>
            <div class="row">
              <div class="col-md-6 mb-2">
                <label for="mqtt-user">MQTT username</label>
                <input type="text" class="form-control form-control-sm" id="mqtt-user" placeholder="" value="">
                <small id="emailHelp" class="form-text text-muted">leave in blank if you don't have</small>
              </div>
              <div class="col-md-6 mb-2">
                <label for="mqtt-pass">MQTT Password</label>
                <div class="input-group input-group-sm mb-3">
                  <input type="password" class="form-control form-control-sm" id="mqtt-pass" placeholder="" value="">
                  <div class="input-group-append">
                    <button type="button" class="btn btn-outline-secondary see-mqtt-password">view</button>
                  </div>
                </div>
                <small id="emailHelp" class="form-text text-muted">leave in blank if you don't have</small>
              </div>
            </div>
            <div class="mb-4"></div>
            <button type="button" class="btn btn-success btn-lg btn-block btn-save-mqtt">Save</button>
          </div>
        </div>

        <!-- ------------------- -->
        <!-- CALIBRATE           -->
        <!-- ------------------- -->
        <div class="card cardCalibrate" style="margin-top:10px; display: none;">
          <div class="card-header bg-success text-white">
            <h5 style="margin: 0;">Calibrate</h5>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md-4 mb-2">
                <label for="voltage">Voltage</label>
                <input type="text" class="form-control form-control-sm" id="voltage" placeholder="" value="">
              </div>
              <div class="col-md-4 mb-2">
                <label for="ical">Icalc value</label>
                <input type="text" class="form-control form-control-sm" id="ical" placeholder="" value="">
              </div>
              <div class="col-md-4 mb-2">
                <label for="messageinterval">Topic interval (miliseconds)</label>
                <input type="text" class="form-control form-control-sm" id="messageinterval" placeholder="" value="">
              </div>
            </div>
            <p>See icalc value for SCT-013 in <strong><a target="_blank"
                  href="http://lechacal.com/wiki/index.php/Current_Transformer_Conditioner">this link</a></strong>
            </p>
            <div class="mb-4"></div>
            <button type="button" class="btn btn-success btn-lg btn-block btn-save-calibrate">Save</button>
          </div>
        </div>

        <!-- ------------------- -->
        <!-- TIME                -->
        <!-- ------------------- -->
        <div class="card cardTime" style="margin-top:10px; display: none;">
          <div class="card-header bg-warning text-white">
            <h5 style="margin: 0;">Time</h5>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md-6 mb-2">
                <label for="timezone">Timezone</label>
                <input type="text" class="form-control form-control-sm" id="timezone" placeholder="" value="">
              </div>
              <div class="col-md-6 mb-2">
                <label for="minute-timezone">Minutes Timezone</label>
                <input type="text" class="form-control form-control-sm" id="minute-timezone" placeholder="" value="">
              </div>
            </div>
            <div class="mb-4"></div>
            <button type="button" class="btn btn-success btn-lg btn-block btn-save-time">Save</button>
          </div>
        </div>

        <!-- ------------------- -->
        <!-- System              -->
        <!-- ------------------- -->
        <div class="card cardSystem" style="margin-top:10px; display: none;">
          <div class="card-header bg-info text-white">
            <h5 style="margin: 0;">System</h5>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-md-6 mb-2">
                <label for="systemPassword">password</label>
                <div class="input-group input-group-sm mb-3">
                  <input type="password" class="form-control form-control-sm" id="systemPassword" placeholder=""
                    value="">
                  <div class="input-group-append">
                    <button type="button" class="btn btn-outline-secondary see-system-password">view</button>
                  </div>
                </div>
              </div>
              <div class="col-md-6 mb-2">
                <button type="submit" class="btn btn-success btn-block mb-2 btn-save-system">Save</button>
              </div>
              <div class="col-md-4 mb-2">
                <button type="button" class="btn btn-danger btn-block mb-2 btn-reset">Reset (factory)</button>
              </div>
              <div class="col-md-4 mb-2">
                <button type="button" class="btn btn-warning btn-block mb-2 btn-reboot">Reboot</button>
              </div>
              <div class="col-md-4 mb-2">
                <button type="button" class="btn btn-info btn-block mb-2 btn-update">Update Firmware</button>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>

  </div>
</body>

</html>